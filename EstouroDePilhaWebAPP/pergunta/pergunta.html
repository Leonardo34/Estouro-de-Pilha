<div class="barraDeMenu" ng-include="'home/barra.de.menu.html'"><br></div>

<div class="container">

  <section class="columns is-multiline">

  <div class="box column is-8">
    <section class="columns is-mobile is-multiline">
      <div class="column is-10 is-12-mobile">

        <div class="tituloPergunta">
          <label class="label">Pergunta do bagual : "{{pergunta.Titulo}}"</label>
        </div>
        <div class="descricaoDaPergunta">
          <pre><p id="pergunta" btf-markdown="pergunta.Descricao"></p></pre>
        </div>
        <div class="tagsDaPergunta">
          <span class="tag is-light" ng-repeat="tags in pergunta.Tags">{{tags.Descricao}}</span>
        </div>
        <article class="media margin-top">
          <div class="media-left">
            <figure class="image is-64x64 is-square">
              <img ng-src="{{pergunta.Usuario.UrlImagemPerfil}}">
            </figure>
          </div>
          <div class="media-content">

            <a ng-href="/#!/perfil/{{pergunta.Usuario.Id}}">
              <p>
                <b>{{pergunta.Usuario.Nome}}</b>
              </p>
            </a>
            <nav class="level is-mobile">
              <!--trocar os numeros pelos numeros de badges do usuario-->
              <div class="level-left">
                <a class="level-item">
                  <span class="tag is-warning">32</span>
                </a>
                <a class="level-item">
                  <span class="tag is-light">7</span>
                </a>
                <a class="level-item">
                  <span class="tag is-danger">4</span>
                </a>
              </div>
            </nav>
          </div>

        </article>

      </div>

      <div class="column">
        <small class="pull-right">{{pergunta.DataPergunta | date: 'dd/MM/yyyy'}}</small>

        <!--aqui irá a seção de upvote da pergunta-->
        <a class="button is-primary pull-right" ng-if = "editarPergunta()" >Editar</a>
      </div>

    </section>

  </div>

  <div class="box column">
    <div class="descricaoDaResposta">
      <p><strong>Perguntas Frequentes</strong></p>
      <p>Como eu resolvo um favicon.error??</p>
      <p>Como eu faço um target 0?</p>
      <p>O que vocêm acham do Entity Framework?</p>
    </div>
  </div>

</section>

  <div class="box column is-8" ng-repeat="resposta in respostas">
    <div class="descricaoDaResposta">
      <section class="level usuario-resposta-info">
        <div class="level-left upvote">
          <!-- aqui vai o upvote -->
          <a class="level-item" ng-class="{'link-disabled' : usuario == null || usuarioVotouEmResposta(resposta)}" ng-click="upvoteResposta(resposta)">
            <span class="quantidade-reacoes">
              {{resposta.QuantidadeUpVotes}}
            </span>
            <span class="icon is-small"><i class="fa fa-thumbs-o-up fa-2x" ng-class="{'fa fa-thumbs-up fa-2x' : usuarioDeuUpvoteResposta(resposta)}" aria-hidden="true"></i></span>
          </a>
          <a class="level-item" ng-class="{'link-disabled' : usuario == null || usuarioVotouEmResposta(resposta)}" ng-click="downvoteResposta(resposta)">
            <span class="quantidade-reacoes">
              {{resposta.QuantidadeDownVotes}}
            </span>
            <span class="icon is-small"><i class="fa fa-thumbs-o-down fa-2x" ng-class="{'fa fa-thumbs-down fa-2x' : usuarioDeuDownvoteResposta(resposta)}" aria-hidden="true"></i></span>
          </a>
        </div>
        <a ng-href="/#!/perfil/{{resposta.Usuario.Id}}">
          <div class="level-right">
            <img ng-src="{{resposta.Usuario.UrlImagemPerfil}}" class="image is-24x24">

            <p class="resposta-usuario-nick is-inline">
              <b>
                  <!-- trocar para o nickname apos implementação -->
                  {{resposta.Usuario.Nome}}
                </b>
            </p>
            <p class="is-inline">
              <small class="resposta-usuario-data">
                  às {{resposta.DataResposta | date:'dd/MM/yyyy HH:mm'}}
              </small>
            </p>
            <span class="icon">
              <a class="button is-primary" ng-if = "usuarioQueFezAPerguntaNaoMarcouNenhumaRespostaComoCorreta()" ng-click = "marcarComoCorreta(resposta.Id)" name="button">Marcar como correta</a>
              <a class="button is-primary"  ng-if ="resposta.EhRespostaCorreta"  name="button">Resposta correta
                <i class="fa fa-check is-pulled-right"  aria-hidden="true"></i>
              </a>
            </span>
          </div>
        </a>
      </section>

      <article class="resposta-descricao">
        <pre><p btf-markdown="resposta.Descricao"></p></pre>
      </article>

    </div>
  </div>
  <nav class="containerPerguntasERespostas nav-center" ng-if = "totalDeRespostas > 5 ">
    <a class="pagination-previous is-centered" title="This is the first page"  ng-click = "anterior()" disabled>Anterior</a>
    <a class="pagination-next is-centered" ng-click = "proxima()">Próxima</a>
  </nav>
  <nav class="containerPerguntasERespostas nav-center" ng-if = "totalDeRespostas >0">
    <a class="pagination-link">{{totalDeRespostas}} respostas encontradas</a>
  </nav>
</div>
